#Generated by Kickstart Configurator
#platform=x86

#System language
lang en_US

#Language modules to install
langsupport en_US

#System keyboard
keyboard us

#System mouse
mouse

#System timezone
timezone America/Edmonton

#Root password
rootpw --disabled

#Initial user
user dcasati --fullname "dcasati" --password ChangeMe

#Reboot after installation
reboot

#Use text mode install
text

#Install OS instead of upgrade
install

#Use CDROM installation media
cdrom

#System bootloader configuration
bootloader --location=mbr 
#Clear the Master Boot Record
zerombr yes

#Partition clearing information
clearpart --all --initlabel 

#Disk partitioning information
part swap --size 2048 
part /boot --fstype ext4 --size 512 
part / --fstype ext4 --size 1 --grow 

# Don't install recommended items by default
# This will also be set for built system at
# /etc/apt/apt.conf.d/00InstallRecommends
preseed base-installer/install-recommends boolean false

#System authorization infomation
auth  --useshadow  

#Network information
network --bootproto=dhcp --device=auto

#Firewall configuration
firewall --disabled 

# Policy for applying updates. May be "none" (no automatic updates),
# "unattended-upgrades" (install security updates automatically), or
# "landscape" (manage system with Landscape).
preseed pkgsel/update-policy select unattended-upgrades

#Do not configure the X Window System
skipx

%packages
# -- required for %post --

vim
software-properties-common
gpg-agent  # apt-key needs this when piping certs in through stdin
curl
openssh-server
net-tools  # this includes commands like ifconfig and netstat
wget
man
git
ubuntu-desktop
#lubuntu-core
firefox
flameshot
dmenu
i3-wm
i3status
xterm
gnome-terminal

%post --log=/root/ks-post.log

# atom.io
wget -qO - https://packagecloud.io/AtomEditor/atom/gpgkey | sudo apt-key add -
sh -c 'echo "deb [arch=amd64] https://packagecloud.io/AtomEditor/atom/any/ any main" > /etc/apt/sources.list.d/atom.list'
apt-get update
apt-get -y install atom

# scratux
wget -q -O scratux_1.1.0_amd64.deb https://github.com/scratux/scratux/releases/download/v1.1/scratux_1.1.0_amd64.deb
dpkg -i scratux_1.1.0_amd64.deb
apt-get -y -f install

# Clean
apt-get -f -y install
apt-get -y autoremove
apt-get clean

%end
